<div class="schedules-container">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-6 col-xs-6">
        <h2 class="section-title">
          <b>Agenda</b>
        </h2>
      </div>
      <div class="col-md-6 col-xs-6" ng-if="::PERMISSIONS.admin">
        <a ui-sref="schedule-new" class="btn btn-rounded btn-primary pull-right">Crear</a>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <br/>
    <div class="row">
      <div class="col-md-3" ng-if="::!PERMISSIONS.student">
        <div class="form-group">
          <label>Camada</label>
          <div class="input-group">
            <span class="input-group-addon">
              <i class="fa fa-users"></i>
            </span>
            <select class="form-control" ng-model="vm.currentCamada">
              <option value="">Todos</option>
              <option ng-repeat="item in vm.camadas | orderBy: '-id' track by item._id" value="{{item._id}}" ng-bind="item.name || item.id"></option>
            </select>
          </div>
        </div>
      </div>
      <div class="col-md-3" ng-if="::!PERMISSIONS.student">
        <div class="form-group">
          <label>Curso</label>
          <div class="input-group">
            <span class="input-group-addon">
              <i class="fa fa-book"></i>
            </span>
            <select class="form-control" ng-model="vm.currentClass">
              <option value="">Todos</option>
              <option ng-repeat="item in vm.classes | orderBy: 'name' track by item._id" value="{{item._id}}" ng-bind="item.name"></option>
            </select>
          </div>
        </div>
      </div>
      <!-- <div class="col-md-3" ng-if="::PERMISSIONS.admin">
        <div class="form-group">
          <label>Profesor</label>
          <select class="form-control" ng-model="vm.currentTeacher">
            <option value="">Todos</option>
            <option ng-repeat="item in vm.teachers | filter: {class: {_id: vm.currentClass}} | orderBy: 'user.email' track by item._id" value="{{item._id}}" ng-bind="item.user.email"></option>
          </select>
        </div>
      </div> -->
      <!-- <div class="col-md-3 pull-right">
        <div class="form-group">
          <label>&nbsp;</label>
          <input class="form-control" type="text" placeholder="Buscar" ng-model="vm.currentSearch" />
        </div>
      </div> -->
    </div>
  </div>
  <div class="container-fluid">
    <br/>
    <div class="row" ng-if="vm.schedules.length">
      <div class="col-md-12">
        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr>
                <th ng-if="::!PERMISSIONS.student" ng-click="vm.onClickOrderBy('camada.id')">Camada</th>
                <th ng-click="vm.onClickOrderBy('camada.class.name')">Curso</th>
                <th ng-click="vm.onClickOrderBy('stage.name')">Clase</th>
                <th ng-click="vm.onClickOrderBy('day')">Dia</th>
                <th ng-click="vm.onClickOrderBy('from')">Desde</th>
                <th ng-click="vm.onClickOrderBy('to')">Hasta</th>
                <th class="text-center" ng-click="vm.onClickOrderBy('remote._id')">Remoto</th>
                <!-- <th width="5%" ng-if="::PERMISSIONS.admin" class="text-center">&nbsp;</th> -->
              </tr>
            </thead>
            <tbody>
              <tr ng-class="{active: item.old}" ng-repeat="item in vm.schedules | filter : { camada: { _id: vm.currentCamada, class: { _id: vm.currentClass}}} | orderBy : vm.currentOrder track by item._id" id="{{item._id}}" ng-click="vm.onClickEdit($event, item.camada._id)">
                <td ng-if="::!PERMISSIONS.student" ng-bind="item.camada.id"></td>
                <td ng-bind="item.camada.class.name"></td>
                <td ng-bind="item.stage.name"></td>
                <td ng-bind="item.day | date:'dd MMMM yyyy'"></td>
                <td ng-bind="item.from | date:'HH:mm'"></td>
                <td ng-bind="item.to | date:'HH:mm'"></td>
                <td class="text-center" ng-click="vm.onClickRemoteLive($event, item._id)">
                  <i ng-if="item.remoteUrl" class="fa fa-video-camera"></i>
                </td>
                <!-- <td ng-if="::PERMISSIONS.admin" class="btn-delete text-center" ng-click="vm.onClickRemove($event, item._id)">
                  <i class="fa fa-times"></i>
                </td> -->
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row" ng-if="!vm.schedules.length">
      <div class="col-md-12">
        <p>No hay agendas...</p>
      </div>
    </div>
  </div>
</div>
